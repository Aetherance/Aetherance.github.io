<!DOCTYPE html>
<html lang="zh">
  <head>
    

    
<script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("use-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script>
    

<meta charset="utf-8" >

<title>pthread_note</title>
<meta name="keywords" content="pthread_note, Hello!ğŸ‘‹ The_INK&#39;s here">
<meta name="description" content="çº¿ç¨‹å­¦ä¹ ç¬”è®°ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹
çº¿ç¨‹ä¹‹é—´å…±äº«å…¨å±€åŒºå’Œå †å†…å­˜ï¼Œè¿™ä½¿çº¿ç¨‹ä¹‹é—´çš„ä¿¡æ¯å…±äº«è¾ƒè¿›ç¨‹ä¹‹é—´æ›´ä¸ºæ–¹ä¾¿ï¼Œä»£ä»·æ›´å°ã€‚
åˆ›å»ºè¿›ç¨‹æ—¶ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨fork()ä»£ä»·é«˜ï¼Œåˆ›å»ºçº¿ç¨‹ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨clone()æ¯”fork()é€šå¸¸å¿«10å€ä¸æ­¢ã€‚

çº¿ç¨‹å…±äº«çš„å±">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="pthread_note">
<meta property="og:description" content="çº¿ç¨‹å­¦ä¹ ç¬”è®°ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹
çº¿ç¨‹ä¹‹é—´å…±äº«å…¨å±€åŒºå’Œå †å†…å­˜ï¼Œè¿™ä½¿çº¿ç¨‹ä¹‹é—´çš„ä¿¡æ¯å…±äº«è¾ƒè¿›ç¨‹ä¹‹é—´æ›´ä¸ºæ–¹ä¾¿ï¼Œä»£ä»·æ›´å°ã€‚
åˆ›å»ºè¿›ç¨‹æ—¶ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨fork()ä»£ä»·é«˜ï¼Œåˆ›å»ºçº¿ç¨‹ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨clone()æ¯”fork()é€šå¸¸å¿«10å€ä¸æ­¢ã€‚

çº¿ç¨‹å…±äº«çš„å±">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="/style/main.css">

  <meta name="generator" content="Hexo 7.3.0"></head>
  <body>
    <div id="app" class="main">

<div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="http://aetherance.github.io">
        <img class="avatar" src="/images/avatar.png" alt="logo" width="32px" height="32px">
      </a>
      <a href="http://aetherance.github.io">
        <h1 class="site-title">Hello!ğŸ‘‹ The_INK&#39;s here</h1>
      </a>
    </div>
    <div class="right">
        <i class="icon menu-switch icon-menu-outline" ></i>
    </div>
  </div>
</div>

<div class="menu-container" style="height: 0;opacity: 0;">
<nav class="menu-list">
  
    
      <a href="/" class="menu purple-link">
        é¦–é¡µ
      </a>
    
  
    
      <a href="/tags" class="menu purple-link">
        æ ‡ç­¾
      </a>
    
  
    
      <a href="/archives" class="menu purple-link">
        å½’æ¡£
      </a>
    
  
    
      <a href="/about" class="menu purple-link">
        å…³äº
      </a>
    
  
</nav>
</div>



  <div class="content-container">
    <div class="post-detail">
      
      <h2 class="post-title">pthread_note</h2>
      <div class="post-info post-detail-info">
        <span><i class="icon icon-calendar-outline"></i> 2025-01-06</span>
        
      </div>
      <div class="post-content-wrapper">
        <div class="post-content">
          <h1 id="çº¿ç¨‹å­¦ä¹ ç¬”è®°"><a href="#çº¿ç¨‹å­¦ä¹ ç¬”è®°" class="headerlink" title="çº¿ç¨‹å­¦ä¹ ç¬”è®°"></a>çº¿ç¨‹å­¦ä¹ ç¬”è®°</h1><h1 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹</h1><ol>
<li>çº¿ç¨‹ä¹‹é—´å…±äº«å…¨å±€åŒºå’Œå †å†…å­˜ï¼Œè¿™ä½¿çº¿ç¨‹ä¹‹é—´çš„ä¿¡æ¯å…±äº«è¾ƒè¿›ç¨‹ä¹‹é—´æ›´ä¸ºæ–¹ä¾¿ï¼Œä»£ä»·æ›´å°ã€‚</li>
<li>åˆ›å»ºè¿›ç¨‹æ—¶ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨<code>fork()</code>ä»£ä»·é«˜ï¼Œåˆ›å»ºçº¿ç¨‹ä½¿ç”¨çš„ç³»ç»Ÿè°ƒç”¨<code>clone()</code>æ¯”<code>fork()</code>é€šå¸¸å¿«10å€ä¸æ­¢ã€‚</li>
</ol>
<h1 id="çº¿ç¨‹å…±äº«çš„å±æ€§"><a href="#çº¿ç¨‹å…±äº«çš„å±æ€§" class="headerlink" title="çº¿ç¨‹å…±äº«çš„å±æ€§"></a>çº¿ç¨‹å…±äº«çš„å±æ€§</h1><ol>
<li>å…¨å±€å†…å­˜</li>
<li>è¿›ç¨‹ID çˆ¶è¿›ç¨‹ID</li>
<li>è¿›ç¨‹ç»„IDä¸ä¼šè¯ID</li>
<li>æ§åˆ¶ç»ˆç«¯</li>
<li>æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦</li>
<li>ä¿¡å·å¤„ç½®</li>
<li>æŸäº›æ—¶å€™çš„æ ˆ (?)</li>
<li>â€¦<br>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å­˜æ”¾å±€éƒ¨å˜é‡çš„ç§æœ‰æ ˆã€‚</li>
</ol>
<h1 id="Pthreadså‡½æ•°è¿”å›å€¼"><a href="#Pthreadså‡½æ•°è¿”å›å€¼" class="headerlink" title="Pthreadså‡½æ•°è¿”å›å€¼"></a>Pthreadså‡½æ•°è¿”å›å€¼</h1><p>ä¸ä¼ ç»Ÿå‡½æ•°è¿”å›-1ä»£è¡¨å¤±è´¥ä¸åŒçš„æ˜¯ï¼Œæ‰€æœ‰çš„Pthreadså‡½æ•°éƒ½æ˜¯è¿”å›æ­£å€¼è¡¨ç¤ºå¤±è´¥ã€‚</p>
<h1 id="åˆ›å»ºçº¿ç¨‹"><a href="#åˆ›å»ºçº¿ç¨‹" class="headerlink" title="åˆ›å»ºçº¿ç¨‹"></a>åˆ›å»ºçº¿ç¨‹</h1><p>ç¨‹åºå¯åŠ¨æ—¶ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­åªæœ‰ä¸€æ¡ç§°ä¸º<em>ä¸»çº¿ç¨‹</em>çš„çº¿ç¨‹ã€‚</p>
<p>è°ƒç”¨<code>pthread_create()</code>å°†åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚</p>
<p><code>pthread_create()</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘<code>pthread_t</code>ç±»å‹çš„æŒ‡é’ˆ,çº¿ç¨‹IDå°†è¢«å†™å…¥è¯¥ç±»å‹ä¸­</p>
<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª const pthread _attr_tç±»å‹çš„æŒ‡é’ˆ ç”¨äºå®šåˆ¶ä¸åŒçš„çº¿ç¨‹å±æ€§ï¼Œé€šå¸¸ç›´æ¥è®¾ä¸º<code>NULL</code></p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘çº¿ç¨‹çš„startå‡½æ•°ã€‚çº¿ç¨‹ä»æ­¤å‡½æ•°å¼€å§‹è¿è¡Œã€‚</p>
<p>ç¬¬å››ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘startå‡½æ•°å‚æ•°çš„æŒ‡é’ˆã€‚</p>
<h1 id="ç»ˆæ­¢çº¿ç¨‹"><a href="#ç»ˆæ­¢çº¿ç¨‹" class="headerlink" title="ç»ˆæ­¢çº¿ç¨‹"></a>ç»ˆæ­¢çº¿ç¨‹</h1><ul>
<li>ä¸»çº¿ç¨‹è°ƒç”¨<code>main</code>å‡½æ•°ä¸­çš„<code>return</code>è¯­å¥ä¼šç»ˆæ­¢æ‰€æœ‰çº¿ç¨‹</li>
<li>ä»»æ„çº¿ç¨‹è°ƒç”¨<code>exit()</code>è¯­å¥ä¼šç»ˆæ­¢æ‰€æœ‰çº¿ç¨‹</li>
<li>çº¿ç¨‹æ‰§è¡Œ<code>start</code>å‡½æ•°çš„<code>return</code>è¯­å¥åªä¼šç»ˆæ­¢è°ƒç”¨çš„çº¿ç¨‹è‡ªèº«</li>
<li>çº¿ç¨‹è°ƒç”¨<code>pthread_exit()</code>è¯­å¥<code>åª</code>ä¼šç»ˆæ­¢è°ƒç”¨çš„çº¿ç¨‹è‡ªèº«ï¼Œä¸è®ºè¿™ä¸ªçº¿è¿›ç¨‹æ˜¯ä¸æ˜¯ä¸»çº¿ç¨‹</li>
<li>è°ƒç”¨<code>pthread_cancle()</code>å–æ¶ˆçº¿ç¨‹</li>
</ul>
<h1 id="çº¿ç¨‹ID"><a href="#çº¿ç¨‹ID" class="headerlink" title="çº¿ç¨‹ID"></a>çº¿ç¨‹ID</h1><p>åœ¨pthreadå‡½æ•°ä¸­,çº¿ç¨‹IDç”±<code>pthread_t</code>å®šä¹‰ã€‚</p>
<p><code>pthread_t</code>æ˜¯ä¸€ç§<em>ä¸é€æ˜æ•°æ®ç±»å‹</em> åœ¨Linuxå®ç°ä¸­,pthread_tæ˜¯æ— ç¬¦å·é•¿æ•´å½¢,è€Œåœ¨å…¶ä»–å®ç°ä¸­æœ‰å¯èƒ½æ˜¯æŒ‡é’ˆæˆ–è€…ç»“æ„ä½“ã€‚</p>
<p>å› æ­¤ï¼Œå¯¹äºpthread_tçš„æ¯”è¾ƒï¼Œåº”è¯¥ä½¿ç”¨pthread_equalå‡½æ•°è€Œä¸æ˜¯Cè¯­è¨€ä¸­çš„<code>==</code>ç­‰æ“ä½œç¬¦ã€‚</p>
<h1 id="joinçº¿ç¨‹"><a href="#joinçº¿ç¨‹" class="headerlink" title="joinçº¿ç¨‹"></a>joinçº¿ç¨‹</h1><p>å‡½æ•°<code>pthread_join</code>ä¼šç­‰å¾…ä¸€ä¸ªçº¿ç¨‹ï¼Œç›´è‡³å…¶ç»ˆæ­¢ã€‚çº¿ç¨‹ç»ˆæ­¢æ—¶ä¼šç«‹å³è¿”å›ã€‚è¿™ç§æ“ä½œè¢«ç§°ä¸º<em>è¿æ¥</em></p>
<p>è‹¥å‡½æ•°<code>pthread_join</code>çš„ç¬¬äºŒä¸ªå‚æ•°<code>retval</code>ä¸ºä¸€éç©ºæŒ‡é’ˆï¼Œå°†ä¼šä¿å­˜çº¿ç¨‹ç»ˆæ­¢æ—¶è¿”å›å€¼çš„æ‹·è´ã€‚å³ä¿å­˜äº†çº¿ç¨‹è°ƒç”¨<code>return</code>æˆ–<code>pthread_exit</code>æ—¶æ‰€æŒ‡å®šçš„å€¼</p>
<p>å‘å‡½æ•°<code>pthread_join</code>ä¼ å…¥å·²ç»joinè¿‡çš„çº¿ç¨‹idçš„ç»“æœæœªçŸ¥</p>
<p>è°ƒç”¨<code>pthread_join</code>çš„çº¿ç¨‹ä¼šé˜»å¡ï¼Œç›´åˆ°å¯¹åº”çº¿ç¨‹æ‰§è¡Œå®Œæ¯• ç›¸å½“äºå¯¹è¿›ç¨‹ä½¿ç”¨<code>wait()</code>ç³»ç»Ÿè°ƒç”¨ ä¸åŒçš„æ˜¯ï¼Œ<code>wait()</code>åªèƒ½ç”±çˆ¶è¿›ç¨‹è°ƒç”¨</p>
<h1 id="åˆ†ç¦»çº¿ç¨‹"><a href="#åˆ†ç¦»çº¿ç¨‹" class="headerlink" title="åˆ†ç¦»çº¿ç¨‹"></a>åˆ†ç¦»çº¿ç¨‹</h1><p>çº¿ç¨‹å…·æœ‰å¯è¿æ¥å’Œå·²åˆ†ç¦»ä¸¤ä¸ªçŠ¶æ€ã€‚è°ƒç”¨<code>pthread_detach()</code>å¯ä»¥ä½¿çº¿ç¨‹åˆ†ç¦»ï¼Œå³ä½¿å…¶ä¸å¯è¿æ¥ã€‚</p>
<p>çº¿ç¨‹ä¸€æ—¦å¤„äºåˆ†ç¦»çŠ¶æ€ï¼Œä¾¿ä¸èƒ½å†è°ƒç”¨joinæ¥ä¸å…¶è¿æ¥ï¼Œä¹Ÿä¸èƒ½å†é‡ä½¿å…¶è¿”å›å¯è¿æ¥çŠ¶æ€ã€‚<code>pthread_detach()</code>çš„è°ƒç”¨æ˜¯ä¸å¯é€†çš„ã€‚</p>
<p>ä¸è®ºçº¿ç¨‹æ˜¯å¦å·²åˆ†ç¦»ï¼Œè°ƒç”¨<code>exit()</code>æˆ–ä¸»è¿›ç¨‹æ‰§è¡Œ<code>return</code>æ—¶ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šç«‹å³ç»ˆæ­¢ã€‚</p>
<h1 id="çº¿ç¨‹å±æ€§"><a href="#çº¿ç¨‹å±æ€§" class="headerlink" title="çº¿ç¨‹å±æ€§"></a>çº¿ç¨‹å±æ€§</h1><p>åˆ©ç”¨<code>pthread_create()</code>çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥è®¾ç½®çº¿ç¨‹çš„å±æ€§ã€‚</p>
<h1 id="å¤šçº¿ç¨‹ä½¿ç”¨ç¬”è®°"><a href="#å¤šçº¿ç¨‹ä½¿ç”¨ç¬”è®°" class="headerlink" title="å¤šçº¿ç¨‹ä½¿ç”¨ç¬”è®°"></a>å¤šçº¿ç¨‹ä½¿ç”¨ç¬”è®°</h1><h2 id="create"><a href="#create" class="headerlink" title="create"></a>create</h2><p>åœ¨å¤šçº¿ç¨‹çš„ä½¿ç”¨ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸»çº¿ç¨‹å…ˆç»“æŸä½¿å…¶ä»–çº¿ç¨‹ä¹Ÿç»ˆæ­¢çš„æƒ…å†µ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span>* <span class="title">thread_func</span><span class="params">(<span class="type">void</span> *)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;func()è°ƒç”¨  çº¿ç¨‹ID -&gt; &quot;</span>&lt;&lt;<span class="built_in">pthread_self</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">thread_func</span>(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="type">pthread_t</span> ptd;</span><br><span class="line">    <span class="built_in">pthread_create</span>(&amp;ptd,<span class="literal">NULL</span>,thread_func,<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åªè¾“å‡ºäº†ä¸»çº¿ç¨‹çš„è°ƒç”¨</p>
<p>éœ€è¦è®©ä¸»çº¿ç¨‹â€™ç­‰å¾…â€™å…¶ä»–çº¿ç¨‹ç»“æŸã€‚ å¯ä»¥ä½¿ç”¨ <code>pthread_join()</code>æˆ–è®©ä¸»çº¿ç¨‹sleep ä½¿ç”¨while()ç­‰å¾…ä¹Ÿæ˜¯å¯è¡Œçš„ </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span>* <span class="title">thread_func</span><span class="params">(<span class="type">void</span> *)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;func()è°ƒç”¨  çº¿ç¨‹ID -&gt; &quot;</span>&lt;&lt;<span class="built_in">pthread_self</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">thread_func</span>(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="type">pthread_t</span> ptd;</span><br><span class="line">    <span class="built_in">pthread_create</span>(&amp;ptd,<span class="literal">NULL</span>,thread_func,<span class="literal">NULL</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">pthread_join</span>(ptd,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="comment">//sleep(3);</span></span><br><span class="line">    <span class="comment">//while(1);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥è°ƒç”¨<code>pthread_exit</code>è®©ä¸»çº¿ç¨‹é€€å‡ºï¼Œå…¶ä»–çº¿ç¨‹ä¼šç»§ç»­è¿è¡Œã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span>* <span class="title">thread_func</span><span class="params">(<span class="type">void</span> *)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;func()è°ƒç”¨  çº¿ç¨‹ID -&gt; &quot;</span>&lt;&lt;<span class="built_in">pthread_self</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">thread_func</span>(<span class="literal">NULL</span>);</span><br><span class="line">    <span class="type">pthread_t</span> ptd;</span><br><span class="line">    <span class="built_in">pthread_create</span>(&amp;ptd,<span class="literal">NULL</span>,thread_func,<span class="literal">NULL</span>);   </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">pthread_exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="joinå’Œdetach"><a href="#joinå’Œdetach" class="headerlink" title="joinå’Œdetach"></a>joinå’Œdetach</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">pthread_test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;test()è°ƒç”¨&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">pthread_t</span> ptd;</span><br><span class="line">    <span class="built_in">pthread_create</span>(&amp;ptd,<span class="literal">NULL</span>,(<span class="type">void</span>*(*)(<span class="type">void</span>*))pthread_test,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">pthread_detach</span>(ptd);</span><br><span class="line">    <span class="built_in">pthread_join</span>(ptd,<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// pthread_exit(0);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªå·²ç»detachçš„çº¿ç¨‹æ˜¯æ— æ³•joinçš„</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;pthread.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pthread_test</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;test()è°ƒç”¨&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">pthread_t</span> ptd;</span><br><span class="line">    <span class="built_in">pthread_create</span>(&amp;ptd,<span class="literal">NULL</span>,(<span class="type">void</span>*(*)(<span class="type">void</span>*))pthread_test,<span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">pthread_detach</span>(ptd);</span><br><span class="line">    <span class="built_in">pthread_join</span>(ptd,<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// pthread_exit(0);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
          
        <div class="top-div">
          <ol class="top-box"><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E7%BA%BF%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="top-box-text">çº¿ç¨‹å­¦ä¹ ç¬”è®°</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B"><span class="top-box-text">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çº¿ç¨‹</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E7%BA%BF%E7%A8%8B%E5%85%B1%E4%BA%AB%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="top-box-text">çº¿ç¨‹å…±äº«çš„å±æ€§</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#Pthreads%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="top-box-text">Pthreadså‡½æ•°è¿”å›å€¼</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B"><span class="top-box-text">åˆ›å»ºçº¿ç¨‹</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E7%BB%88%E6%AD%A2%E7%BA%BF%E7%A8%8B"><span class="top-box-text">ç»ˆæ­¢çº¿ç¨‹</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E7%BA%BF%E7%A8%8BID"><span class="top-box-text">çº¿ç¨‹ID</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#join%E7%BA%BF%E7%A8%8B"><span class="top-box-text">joinçº¿ç¨‹</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E5%88%86%E7%A6%BB%E7%BA%BF%E7%A8%8B"><span class="top-box-text">åˆ†ç¦»çº¿ç¨‹</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E7%BA%BF%E7%A8%8B%E5%B1%9E%E6%80%A7"><span class="top-box-text">çº¿ç¨‹å±æ€§</span></a></li><li class="top-box-item top-box-level-1"><a class="top-box-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0"><span class="top-box-text">å¤šçº¿ç¨‹ä½¿ç”¨ç¬”è®°</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#create"><span class="top-box-text">create</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#join%E5%92%8Cdetach"><span class="top-box-text">joinå’Œdetach</span></a></li></ol></li></ol>
        </div>
          
      </div>
    </div>

    
      <div class="next-post">
        <a class="purple-link" href="/2025/01/05/C++Note/">
          <h3 class="post-title">
            ä¸‹ä¸€ç¯‡ï¼šC++ Note
          </h3>
        </a>
      </div>
    
  </div>










<footer>
<div class="site-footer">
  <div class="social-container">
    
      
        <a aria-label="è·³è½¬è‡³github" href="https://github.com/Aetherance" target="_blank">
          <i class="icon icon-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  </div>
  
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <a href="https://github.com/f-dong/hexo-theme-minimalism" target="_blank">Theme</a>
  
  
  
  
  
  
</div>
</footer>


      </div>
    </div>
    
<script id="hexo-configurations"> window.theme_config = {"image":{"lazyload_enable":true,"photo_zoom":"simple-lightbox"}}; window.is_post = true; </script>

<script src="/js/main.js"></script>






  </body>
</html>

